<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gemini Chat</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="chatToggle" title="Open Chat" style="position: fixed; bottom: 10px; right: 10px; background: linear-gradient(90deg, #A5EAED, #FDB5DA, #A5EAED); width: 50px; height: 50px; border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer; z-index: 100;">
    <i class="fa-brands fa-github-alt" style="color: white; font-size: 24px;"></i>
  </div>
    <div class="chatCard">
      <div class="head">
        <div class="left">
          <div class="img"><img src="/dog-icon.jpg" alt=""></div>
    <span class="display-4 animate__animated animate__fadeInDown gradient-text">NihongoSekaiBot</span>

        </div>
      </div>
      <div class="message_area">
        <div class="message ai-message">
          <div class="img"><img src="/logo.png" alt=""></div>
          <div class="text">もしもし、日本語世界ボトです</div>
        </div>
        <!-- User Message Template -->
        
        
      </div>
      <div class="input-area">
        <div class="loading">Little Bot is typing<span class="dot1"></span> <span class="dot2"></span> <span class="dot3"></span></div>
        <div class="sending">
          <textarea class="input" placeholder="Type your message here" rows="1"></textarea>
        <button class="send"><i class="fa-regular fa-paper-plane"></i></button>
        </div>
      </div>
        
      </div>
    </div>
    <script type="module" src="/main.js"></script>
    <script type="module" src="/main.js"></script>
  <script>
  const chatToggle = document.getElementById('chatToggle');
  const chatCard = document.querySelector('.chatCard');

  chatToggle.addEventListener('click', () => {
    const isOpen = chatCard.classList.toggle('open');
    chatToggle.title = isOpen ? 'Close Chat' : 'Open Chat';

    // Gửi message đến trang chứa iframe (ASP.NET MVC)
    window.parent.postMessage(
      { type: isOpen ? "chatbot-open" : "chatbot-close" },
      "*"
    );
  });
</script>
  </body>
</html>
